{"ast":null,"code":"var _jsxFileName = \"/Users/jointoit/Developer/diplom/client/src/pages/Login/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { postAuthData } from '../../api';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport './style.css';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      emailError: false,\n      password: '',\n      passwordError: false,\n      remember: false,\n      error: ''\n    };\n\n    this.handleChange = e => {\n      console.log(e.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          remember = _this$state.remember;\n\n      if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\n        this.setState({\n          emailError: true\n        });\n      } else if (password.length < 4) {\n        this.setState({\n          passwordError: true\n        });\n      } else {\n        postAuthData('login', {\n          email,\n          password,\n          remember\n        }).then(res => {\n          if (res.status === 200) {\n            if (remember) {\n              localStorage.setItem('email', email);\n              localStorage.setItem('password', password);\n            }\n\n            this.setState({\n              emailError: false,\n              passwordError: false\n            }, () => {\n              this.props.history.push('/123');\n            });\n          } else {\n            this.setState({\n              error: 'Auth Failed!',\n              emailError: false,\n              passwordError: false\n            });\n          }\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    let email = localStorage.getItem('email') || '';\n    let password = localStorage.getItem('password') || '';\n    let remember = email.length > 1 && password.length > 1;\n    this.setState({\n      email,\n      password,\n      remember\n    });\n  }\n\n  render() {\n    let _this$state2 = this.state,\n        emailError = _this$state2.emailError,\n        passwordError = _this$state2.passwordError;\n    return React.createElement(\"div\", {\n      className: \"login__wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      className: \"login__main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Paper, {\n      className: \"login__paper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: \"login__avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(LockOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"form\", {\n      className: \"login__form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Email Address\"), React.createElement(Input, {\n      id: \"email\",\n      name: \"email\",\n      autoComplete: \"email\",\n      autoFocus: true,\n      onChange: this.handleChange,\n      error: emailError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Input, {\n      name: \"password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.handleChange,\n      error: passwordError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(FormControlLabel, {\n      control: React.createElement(Checkbox, {\n        value: \"remember\",\n        color: \"primary\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }),\n      label: \"Remember me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: \"login__submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Sign in\")))));\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/jointoit/Developer/diplom/client/src/pages/Login/index.js"],"names":["React","Component","withRouter","postAuthData","Avatar","Button","CssBaseline","FormControl","FormControlLabel","Checkbox","Input","InputLabel","LockOutlinedIcon","Paper","Typography","Login","state","email","emailError","password","passwordError","remember","error","handleChange","e","console","log","value","setState","target","name","handleSubmit","preventDefault","test","length","then","res","status","localStorage","setItem","props","history","push","componentDidMount","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { postAuthData } from '../../api'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport './style.css'\n\nclass Login extends Component {\n  state = {\n    email: '',\n    emailError: false,\n    password: '',\n    passwordError: false,\n    remember: false,\n    error: ''\n  }\n\n  componentDidMount () {\n    let email = localStorage.getItem('email') || ''\n    let password = localStorage.getItem('password') || ''\n    let remember = email.length > 1 && password.length > 1\n    this.setState({\n      email,\n      password,\n      remember\n    })\n  }\n\n  handleChange = e => {\n    console.log(e.value)\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    let { email, password, remember } = this.state\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\n      this.setState({ emailError: true })\n    } else if (password.length < 4) {\n      this.setState({ passwordError: true })\n    } else {\n      postAuthData('login', { email, password, remember }).then(res => {\n        if (res.status === 200) {\n          if (remember) {\n            localStorage.setItem('email', email)\n            localStorage.setItem('password', password)\n          }\n          this.setState({ emailError: false, passwordError: false }, () => {\n            this.props.history.push('/123')\n          })\n        } else {\n          this.setState({\n            error: 'Auth Failed!',\n            emailError: false,\n            passwordError: false\n          })\n        }\n      })\n    }\n  }\n\n  render () {\n    let { emailError, passwordError } = this.state\n    return (\n      <div className='login__wrapper'>\n        <main className='login__main'>\n          <CssBaseline />\n          <Paper className='login__paper'>\n            <Avatar className='login__avatar'>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component='h1' variant='h5'>\n              Sign in\n            </Typography>\n            <form className='login__form' onSubmit={this.handleSubmit}>\n              <FormControl margin='normal' required fullWidth>\n                <InputLabel htmlFor='email'>Email Address</InputLabel>\n                <Input\n                  id='email'\n                  name='email'\n                  autoComplete='email'\n                  autoFocus\n                  onChange={this.handleChange}\n                  error={emailError}\n                />\n              </FormControl>\n              <FormControl margin='normal' required fullWidth>\n                <InputLabel htmlFor='password'>Password</InputLabel>\n                <Input\n                  name='password'\n                  type='password'\n                  id='password'\n                  autoComplete='current-password'\n                  onChange={this.handleChange}\n                  error={passwordError}\n                />\n              </FormControl>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    value='remember'\n                    color='primary'\n                    onChange={this.handleChange}\n                  />\n                }\n                label='Remember me'\n              />\n              <Button\n                type='submit'\n                fullWidth\n                variant='contained'\n                color='primary'\n                className='login__submit'\n              >\n                Sign in\n              </Button>\n            </form>\n          </Paper>\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Login)\n"]},"metadata":{},"sourceType":"module"}